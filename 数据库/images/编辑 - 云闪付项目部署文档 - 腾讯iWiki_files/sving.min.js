!function(){"use strict";function t(t,e,n,r,o,i){this.setValues(t,e,n,r,o,i)}function e(t,e,o){var i=[];t&&"object"==typeof t&&0===Object.keys(t).length&&(r(t),t.e.f=t);for(var s in t)t.hasOwnProperty(s)&&(o?a(e)&&l(e,s)?(i.push(s),n(t,s,null,t)):c(e)&&s==e&&(i.push(s),n(t,s,null,t)):(i.push(s),n(t,s,null,t)));t.h||(t.h=[]),t.h.push({all:!o,propChanged:o||e,eventPropArr:i})}function n(t,e,s,a){if("__o_"!==e&&!i(t[e])){t.e||(t.e={f:a}),t.e.g=void 0!==s&&null!==s?s:"#";var c=t.e[e]=t[e];if(Object.defineProperty(t,e,{get:function(){return this.e[e]},set:function(n){var r=this.e[e];this.e[e]=n,o(e,n,r,this,t.e.g,a)},configurable:!0,enumerable:!0}),"object"==typeof c){c&&0===Object.keys(c).length&&r(c,e,s);for(var l in c)c.hasOwnProperty(l)&&n(c,l,t.e.g+"-"+e,a)}}}function r(t,e,n){t.e||(t.e={},t.e.g=void 0!==n&&null!==n?n+"-"+e:void 0!==e&&null!==e?"#-"+e:"#")}function o(t,e,r,o,i,a){if(e!==r&&(!s(e)||!s(r))&&a.h)for(var c=u(t,i),f=0,p=a.h.length;f<p;f++){var h=a.h[f];(h.all||l(h.eventPropArr,c)||0===c.indexOf("Array-"))&&h.propChanged.call(o,t,e,r,i)}0!==t.indexOf("Array-")&&"object"==typeof e&&n(o,t,o.e.g,a)}function i(t){return"[object Function]"==Object.prototype.toString.call(t)}function s(t){return"number"==typeof t&&isNaN(t)}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t){return"string"==typeof t}function l(t,e){for(var n=t.length;--n>-1;)if(e===t[n])return!0;return!1}function u(t,e){return"#"===e?t:e.split("-")[1]}function f(t,e){for(var n in e)e.hasOwnProperty(n)&&("xlink:"==n.substring(0,6)?t.setAttributeNS(wt,n.substring(6),e[n]+""):t.setAttribute(n,e[n]+""))}function p(t,e){return-1!==e.indexOf(":")?t.getAttributeNS(gt,e):t.getAttribute(e)}function h(t,e,n){var r;f(t,(r={},r[e]=n,r))}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function D(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function F(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function M(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Z(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function K(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function W(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function nt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function it(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function at(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ct(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function lt(t,e){var n=document.createElementNS(gt,"filter");h(n,"id","svingFilter"+Mt);var r=document.createElementNS(gt,"feGaussianBlur");return 0===arguments.length?h(r,"stdDeviation",2):1===arguments.length?h(r,"stdDeviation",t+""):h(r,"stdDeviation",t+" "+e),n.appendChild(r),Mt++,n}function ut(t){var e=document.createElementNS(gt,"filter");h(e,"id","svingFilter"+Mt);var n=document.createElementNS(gt,"feComponentTransfer"),r=document.createElementNS(gt,"feFuncR"),o=document.createElementNS(gt,"feFuncG"),i=document.createElementNS(gt,"feFuncB");return h(r,"slope",t),h(o,"slope",t),h(i,"slope",t),h(r,"type","linear"),h(o,"type","linear"),h(i,"type","linear"),n.appendChild(r),n.appendChild(o),n.appendChild(i),e.appendChild(n),Mt++,e}function ft(t){var e=document.createElementNS(gt,"filter");h(e,"id","svingFilter"+Mt);var n=document.createElementNS(gt,"feComponentTransfer"),r=document.createElementNS(gt,"feFuncR"),o=document.createElementNS(gt,"feFuncG"),i=document.createElementNS(gt,"feFuncB");h(r,"slope",t),h(o,"slope",t),h(i,"slope",t),h(r,"type","linear"),h(o,"type","linear"),h(i,"type","linear");var s=.5-t/2;return h(r,"intercept",s),h(o,"intercept",s),h(i,"intercept",s),n.appendChild(r),n.appendChild(o),n.appendChild(i),e.appendChild(n),Mt++,e}function pt(t){arguments.length||(t=1);var e=document.createElementNS(gt,"filter");h(e,"id","svingFilter"+Mt);var n=document.createElementNS(gt,"feColorMatrix");h(n,"type","matrix");var r=.2126+.7874*(1-t),o=.7152-.7152*(1-t);return h(n,"values",r+" "+o+" "+(.0722-.0722*(1-t))+" 0 0 "+(.2126-.2126*(1-t))+" "+(.7152+.2848*(1-t))+" "+(.0722-.0722*(1-t))+" 0 0 "+(.2126-.2126*(1-t))+" "+o+" "+(.0722+.9278*(1-t))+" 0 0 0 0 0 1 0"),e.appendChild(n),Mt++,e}function ht(t){var e=document.createElementNS(gt,"filter");h(e,"id","svingFilter"+Mt);var n=document.createElementNS(gt,"feColorMatrix");return h(n,"type","hueRotate"),t=t||0,h(n,"values",t),e.appendChild(n),Mt++,e}function dt(t){arguments.length||(t=1);var e=document.createElementNS(gt,"filter");h(e,"id","svingFilter"+Mt);var n=document.createElementNS(gt,"feComponentTransfer"),r=document.createElementNS(gt,"feFuncR"),o=document.createElementNS(gt,"feFuncG"),i=document.createElementNS(gt,"feFuncB"),s=1-t;return h(r,"tableValues",t+" "+s),h(o,"tableValues",t+" "+s),h(i,"tableValues",t+" "+s),h(r,"type","table"),h(o,"type","table"),h(i,"type","table"),n.appendChild(r),n.appendChild(o),n.appendChild(i),e.appendChild(n),Mt++,e}function yt(t){arguments.length||(t=1);var e=document.createElementNS(gt,"filter");h(e,"id","svingFilter"+Mt);var n=document.createElementNS(gt,"feComponentTransfer");return h(n,"type","saturate"),h(n,"values",1-t),e.appendChild(n),Mt++,e}function mt(){arguments.length||(amount=1);var t=document.createElementNS(gt,"filter");h(t,"id","svingFilter"+Mt);var e=document.createElementNS(gt,"feColorMatrix");h(e,"type","matrix");var n=.393+.607*(1-amount),r=.769-.769*(1-amount);return h(e,"values",n+" "+r+" "+(.189-.189*(1-amount))+" 0 0 "+(.349-.349*(1-amount))+" "+(.686+.314*(1-amount))+" "+(.168-.168*(1-amount))+" 0 0 "+(.272-.272*(1-amount))+" "+r+" "+(.534-.534*(1-amount))+" 0 0 0 0 0 1 0"),t.appendChild(e),Mt++,t}function bt(t,e,n,r,o){null==o&&(null==r?(o=n,n=4,r="#000"):(o=r,r=n,n=4)),null==n&&(n=4),null==o&&(o=1),null==t&&(t=0,e=2),null==e&&(e=t);var i=document.createElementNS(gt,"feGaussianBlur");h(i,"in","SourceAlpha"),h(i,"stdDeviation",n),filter.appendChild(i);var s=document.createElementNS(gt,"feOffset");h(s,"dx",t),h(s,"dy",e),h(s,"result","offsetblur"),filter.appendChild(s);var a=document.createElementNS(gt,"feFlood");h(a,"flood-color",r),filter.appendChild(a);var c=document.createElementNS(gt,"feComposite");h(c,"operator","in"),h(c,"in2","offsetblur"),filter.appendChild(c);var l=document.createElementNS(gt,"feComponentTransfer"),u=document.createElementNS(gt,"feFuncA");h(u,"type","linear"),h(u,"slope",o),l.appendChild(u),filter.appendChild(l);var f=document.createElementNS(gt,"feMerge"),p=document.createElementNS(gt,"feMergeNode"),d=document.createElementNS(gt,"feMergeNode");return h(d,"in","SourceGraphic"),f.appendChild(p),f.appendChild(d),filter.appendChild(f),Mt++,filter}t.DEG_TO_RAD=Math.PI/180,t.identity=null,t.prototype={setValues:function(t,e,n,r,o,i){return this.a=null==t?1:t,this.b=e||0,this.c=n||0,this.d=null==r?1:r,this.tx=o||0,this.ty=i||0,this},append:function(t,e,n,r,o,i){var s=this.a,a=this.b,c=this.c,l=this.d;return 1==t&&0==e&&0==n&&1==r||(this.a=s*t+c*e,this.b=a*t+l*e,this.c=s*n+c*r,this.d=a*n+l*r),this.tx=s*o+c*i+this.tx,this.ty=a*o+l*i+this.ty,this},appendTransform:function(e,n,r,o,i,s,a,c,l){if(i%360)var u=i*t.DEG_TO_RAD,f=Math.cos(u),p=Math.sin(u);else f=1,p=0;return s||a?(s*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.append(Math.cos(a),Math.sin(a),-Math.sin(s),Math.cos(s),e,n),this.append(f*r,p*r,-p*o,f*o,0,0)):this.append(f*r,p*r,-p*o,f*o,e,n),(c||l)&&(this.tx-=c*this.a+l*this.c,this.ty-=c*this.b+l*this.d),this},identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},copy:function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},clone:function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},toString:function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"}},t.identity=new t;var gt="http://www.w3.org/2000/svg",wt="http://www.w3.org/1999/xlink",vt=function(){function t(){d(this,t),this.el=null}return t.prototype.createDomEl=function(t){this.el=document.createElementNS(gt,t),this.el.svingNode=this},t.prototype.setAttrs=function(t){f(this.el,t)},t.prototype.getAttr=function(t){p(this.el,t)},t.prototype.setAttr=function(t,e){var n;this.setAttrs((n={},n[t]=e,n))},t.prototype.destroy=function(){if(this.children)for(var t=this.children.length;0<t;t--)this.children[0].destroy();this.el&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=null),this.matrix&&(this.matrix=null),this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent=null),this.isInStage&&this.fireRemovedFromStageEvent()},t}(),Et=["x","y","scaleX","scaleY","rotation","skewX","skewY","originX","originY"],xt=function(n){function r(){y(this,r);var o=m(this,n.call(this));return o.opacity=o.scaleX=o.scaleY=1,o.x=o.y=o.rotation=o.skewX=o.skewY=o.originX=o.originY=0,o.matrix=t.identity,o.animateList=[],o.isInStage=!1,o.i=[],o.l=[],e(o,Et,function(){o.matrix.identity().appendTransform(o.x,o.y,o.scaleX,o.scaleY,o.rotation,o.skewX,o.skewY,o.originX,o.originY),o.setAttrs({transform:"matrix("+o.matrix.a+","+o.matrix.b+","+o.matrix.c+","+o.matrix.d+","+o.matrix.tx+","+o.matrix.ty+")"})}),e(o,["opacity"],function(){o.setAttrs({opacity:o.opacity})}),o.cursor=null,e(o,["cursor"],function(t,e){o.el.style.cursor=e}),Object.defineProperties(o,{stage:{get:o.j},scale:{get:function(){return this.scaleX},set:function(t){this.scaleX=this.scaleY=t}}}),o.o=!1,o.p=[],o.q=[],o.s=[],o.m={},o.n=0,o}return b(r,n),r.prototype.addAnimate=function(t){this.el.appendChild(t.el)},r.prototype.removeAnimate=function(){this.el.removeChild(animate.el)},r.prototype.j=function(){var t=this;if(t.isStage)return t;while(t.parent)if(t=t.parent,t.isStage)return t;return null},r.prototype.on=function(t,e,n){var r=this,o=function(t){var n=r.j().el.getBoundingClientRect();t.stageX=t.clientX-n.left,t.stageY=t.clientY-n.top,e.call(r.el,t)};this.m[this.n++]=[e,o],this.el.addEventListener(t,o,n)},r.prototype.off=function(t,e,n){for(var r in this.m)if(e===this.m[r][0]){this.el.removeEventListener(t,this.m[r][1],n),delete this.m[r];break}},r.prototype.onAddedToStage=function(t){this.i.push(t)},r.prototype.offAddedToStage=function(t){this.i.splice(this.i.indexOf(t),1)},r.prototype.onRemovedFromStage=function(t){this.l.push(t)},r.prototype.offRemovedFromStage=function(t){this.l.splice(this.l.indexOf(t),1)},r.prototype.fireRemovedFromStageEvent=function(){var t=this;this.isInStage&&(this.isInStage=!1,this.l.forEach(function(e){e.call(t)}),this.children&&this.children.forEach(function(t){t.fireRemovedFromStageEvent()}))},r.prototype.fireAddedToStageEvent=function(){var t=this;this.isInStage||(this.isInStage=!0,this.i.forEach(function(e){e.call(t)}),this.children&&this.children.forEach(function(t){t.fireAddedToStageEvent()}))},r.prototype.onDragStart=function(t){this.q.push(t)},r.prototype.offDragStart=function(t){this.q.splice(this.q.indexOf(t),1)},r.prototype.onDragEnd=function(t){this.s.push(t)},r.prototype.offDragEnd=function(t){this.s.splice(this.s.indexOf(t),1)},r.prototype.onDrag=function(t){var e=this;if(this.p.push(t),!this.o){var n=null,r=null,o=void 0,i=void 0,s=void 0;this.on("mousedown",function(t){s=e,n=t.pageX,r=t.pageY,e.q.forEach(function(n){n.call(e,t)})}),window.addEventListener("mousemove",function(t){s&&(o=t.pageX-n,i=t.pageY-r,n=t.pageX,r=t.pageY,e.p.forEach(function(n){n.call(e,o,i,t)}))}),window.addEventListener("mouseup",function(t){s&&(s=null,n=null,r=null,o=null,i=null,e.s.forEach(function(n){n.call(e,t)}))}),this.o=!0}},r.prototype.offDrag=function(t){this.p.splice(this.p.indexOf(t),1)},r.prototype.useFilter=function(t){this.setAttr("filter","url(#"+p(t,"id")+")")},r}(vt),Ot=function(t){function e(n){g(this,e);var r=w(this,t.call(this));return r.createDomEl(n||"g"),r.children=[],r}return v(e,t),e.prototype.add=function(t){this.children.push(t),this.el.append(t.el),t.parent=this,this.isInStage&&t.fireAddedToStageEvent()},e.prototype.prepend=function(t){this.children.unshift(t),this.el.prepend(t.el),t.parent=this,this.isInStage&&t.fireAddedToStageEvent()},e.prototype.remove=function(t){this.children.splice(this.children.indexOf(t),1),t.el.parentNode.removeChild(t.el),t.parent=null,this.isInStage&&t.fireRemovedFromStageEvent()},e.prototype.swap=function(t,e,n){var r=t.el.cloneNode(!0),o=e.el.cloneNode(!0);if(e.el.parentNode.replaceChild(r,e.el),t.el.parentNode.replaceChild(o,t.el),t.el=r,e.el=o,n){var i=t.x,s=t.y;t.x=e.x,t.y=e.y,e.x=i,e.y=s}},e.prototype.clear=function(){for(var t=this.children.length;0<t;t--)this.children[0].destroy()},e.prototype.swapZIndex=function(){},e.prototype.toTop=function(){},e.prototype.toBottom=function(){},e}(xt),St=function(t){function e(n,r,o){E(this,e);var i=x(this,t.call(this,"svg"));return i.parent="string"==typeof n?document.querySelector(n):n,i.isStage=!0,i.isInStage=!0,i.el.setAttribute("width",r),i.el.setAttribute("height",o),i.el.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.parent.appendChild(i.el),i.defsEl=null,i}return O(e,t),e.prototype.createFilter=function(t){return this.defsEl||(this.defsEl=document.createElementNS(gt,"defs"),this.el.appendChild(this.defsEl)),this.defsEl.appendChild(t),t},e}(Ot),Ct=function(t){function e(n,r){S(this,e);var o=C(this,t.call(this));return o.nodeName="text",o.createDomEl("text"),o.el.style.font=r,o.el.textContent=n,Object.defineProperties(o,{textContent:{get:function(){return this.el.textContent},set:function(t){this.el.textContent=t}},font:{get:function(){return this.el.style.font},set:function(t){this.el.style.font=t}}}),o}return j(e,t),e.prototype.getBBox=function(){return this.el.getBBox()},e}(xt),jt=function(t){function e(n,r){_(this,e);var o=A(this,t.call(this));return o.width=n,o.height=r,o.createDomEl("rect"),o.setAttrs({width:n,height:r}),o}return N(e,t),e}(xt),_t=function(t){function e(n){T(this,e);var r=P(this,t.call(this));return r.r=n,r.createDomEl("circle"),r.setAttrs({r:n}),r}return D(e,t),e}(xt),At=function(t){function e(n,r,o,i){R(this,e);var s=k(this,t.call(this));return s.createDomEl("line"),s.setAttrs({x1:n,y1:r,x2:o,y2:i}),s}return F(e,t),e}(xt),Nt=function(t){function e(n){X(this,e);var r=Y(this,t.call(this));return r.createDomEl("path"),r.setAttrs({d:n}),r}return M(e,t),e.prototype.getLength=function(){return this.el.getTotalLength()},e}(xt),Tt=function(t){function e(n){B(this,e);var r=I(this,t.call(this));return r.createDomEl("polygon"),r.setAttrs({points:n}),r}return L(e,t),e}(xt),Pt=function(t){function e(n){G(this,e);var r=q(this,t.call(this));return r.createDomEl(n.tag||"animate"),r.setAttrs(n),r}return V(e,t),e}(vt),Dt=function(t){function e(n){$(this,e);var r=H(this,t.call(this));return r.createDomEl("animateMotion"),r.setAttrs(n),r}return Z(e,t),e}(vt),Rt=function(t){function e(n){z(this,e);var r=J(this,t.call(this));return r.createDomEl("animateTransform"),r.setAttrs(n),r}return K(e,t),e}(Pt),kt=function(t){function e(n){Q(this,e);var r=U(this,t.call(this));return r.createDomEl("polyline"),r.setAttrs({points:n}),r}return W(e,t),e}(xt),Ft=function(t){function e(n,r){tt(this,e);var o=et(this,t.call(this));return o.rx=n,o.ry=r,o.createDomEl("ellipse"),o.setAttrs({rx:n,ry:r}),o}return nt(e,t),e}(xt),Xt=function(t){function e(n){rt(this,e);var r=ot(this,t.call(this));return r.createDomEl("image"),r.setAttrs({"xlink:href":"string"==typeof n?n:n.src}),r}return it(e,t),e}(xt),Yt=function(t){function e(n,r){st(this,e);var o=at(this,t.call(this));return r=r||{},o.nodeName="text",o.createDomEl("text"),o.textAnchor=r.textAnchor||"middle",o.tspanList=[],n.forEach(function(t,e){var n=document.createElementNS(gt,"tspan");n.textContent=t.text,n.style.font=t.font||r.font,f(n,{"text-anchor":t.textAnchor||o.textAnchor,x:0,y:e*(r.lineHeight||13)}),o.el.appendChild(n),o.tspanList.push(n)}),o.options=r,o}return ct(e,t),e.prototype.update=function(t){var e=this;this.tspanList.forEach(function(t){return e.el.removeChild(t)}),this.tspanList.length=0,t.forEach(function(t,n){var r=document.createElementNS(gt,"tspan");r.textContent=t.text,r.style.font=t.font||e.options.font,f(r,{"text-anchor":t.textAnchor||e.textAnchor,x:0,y:n*(e.options.lineHeight||13)}),e.el.appendChild(r),e.tspanList.push(r)})},e.prototype.getBBox=function(){return this.el.getBBox()},e}(xt),Mt=0,Bt="http://www.w3.org/2000/svg",It=function n(r,o){if(o){"string"==typeof r&&(r=n(r));for(var i in o)o.hasOwnProperty(i)&&("xlink:"==i.substring(0,6)?r.setAttributeNS("http://www.w3.org/1999/xlink",i.substring(6),o[i]+""):r.setAttribute(i,o[i]+""))}else r=document.createElementNS(Bt,r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)"),r.opacity=r.scaleX=r.scaleY=1,r.$x=r.$y=r.rotation=r.skewX=r.skewY=r.originX=r.originY=0,r.matrix=t.identity,e(r,["$x","$y","scaleX","scaleY","rotation","skewX","skewY","originX","originY"],function(){this.matrix.identity().appendTransform(this.$x,this.$y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.originX,this.originY),n(r,{transform:"matrix("+this.matrix.a+","+this.matrix.b+","+this.matrix.c+","+this.matrix.d+","+this.matrix.tx+","+this.matrix.ty+")"})}),e(r,["opacity"],function(){r.setAttribute("opacity",this.opacity)}),r.attr=function(t,e){if(1===arguments.length)return"string"==typeof t?-1!==t.indexOf(":")?this.getAttributeNS(Bt,t):this.getAttribute(t):n(this,t);var r={};return r[t]=e,n(this,r)};return r},Lt=function(t,e,n){this.parent="string"==typeof t?document.querySelector(t):t,this.svg=document.createElementNS(Bt,"svg"),this.svg.setAttribute("style","border: 1px solid blackoverflow: hidden"),this.svg.setAttribute("width",e),this.svg.setAttribute("height",n),this.svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.parent.appendChild(this.svg)};Lt.prototype={line:function(t,e,n,r){var o=It("line",{x1:t,y1:e,x2:n,y2:r});return this.svg.appendChild(o),o},rect:function(t,e){var n=It("rect",{width:t,height:e});return this.svg.appendChild(n),n},text:function(t,e){var n=It("text");return n.style.font=e,n.textContent=t,this.svg.appendChild(n),n},circle:function(t){var e=It("circle",{r:t});return this.svg.appendChild(e),e},path:function(t){var e=It("path",{d:t});return this.svg.appendChild(e),e},ellipse:function(t,e){var n=It("ellipse",{rx:t,ry:e});return this.svg.appendChild(n),n},image:function(t){if("string"==typeof t){var e=It("image",{"xlink:href":t}),n=new Image;n.onload=function(){e.attr({width:n.width,height:n.height}),n=null},n.src=t}else var e=It("image",{"xlink:href":t,width:t.width,height:t.height});return this.svg.appendChild(e),e},group:function(){var t=It("g");this.svg.appendChild(t);for(var e=0,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t.add=function(e){t.appendChild(e)},t.remove=function(e){t.removeChild(e)},t},remove:function(t){this.svg.removeChild(t)}};var Gt=function(t,e,n){return new Lt(t,e,n)};Gt.Stage=St,Gt.Group=Ot,Gt.Text=Ct,Gt.Rect=jt,Gt.Circle=_t,Gt.Line=At,Gt.Path=Nt,Gt.Polygon=Tt,Gt.Animate=Pt,Gt.Polyline=kt,Gt.Ellipse=Ft,Gt.Img=Xt,Gt.AnimateMotion=Dt,Gt.AnimateTransform=Rt,Gt.MultilineText=Yt,Gt.filter={blur:lt,brightness:ut,contrast:ft,grayscale:pt,hueRotate:ht,invert:dt,saturate:yt,sepia:mt,shadow:bt},"undefined"!=typeof module?module.exports=Gt:self.sving=Gt}();
//# sourceMappingURL=sving.min.js.map