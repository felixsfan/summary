<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>使用ajax返回简单值2</title>
        <link rel="stylesheet" href="css/bootstrap.min.css"/>
        <link rel="stylesheet" href="css/style.css"/>
        <!--编写自己的js代码前，先引入jQuery文件--> 
        <script src="js/jquery-3.2.1.min.js"></script>
        <script>

            $(document).ready(function () {

                //处理id为btn_cal的按钮的点击事件
                $("#btn_cal").click(function () {
                    
                    //调用jQuery提供的ajax函数发送ajax请求给servlet2这个Servlet，返回的数据设置为id为resultContainer的元素的内容
                    $.ajax({
                        url: 'servlet2', //请求发送给url为servlet2的Servlet
                        type: 'GET',     //请求发送方式可以用GET或POST等
                        //这里使用json格式发送了两个请求参数给服务器，名为num1的参数和名为num2的参数
                        //参数值分别是id为num1的元素的value值和id为num2的元素的value值
                        data: {num1: $("#num1").val(), num2: $("#num2").val()}, 
                        success: function (data) { //success属性指定请求成功要调用的函数，data表示服务器返回的数据，data这个名称可以随便修改
                            $("#resultContainer").html(data); //修改id为resultContainer元素的内容为服务器返回的数据
                        },
                        error: function () { //error属性指定如果请求失败，要调用的函数
                            alert("出现错误!");
                        }
                    });
                });
            });

        </script>
    </head>
    <body>

        <div class="container">


            <h1 class="text-center text-danger">使用ajax返回简单值2</h1>
            <hr>
            <br>

            <p>在该页面上发送一个请求给Servlet2，发送两个请求参数，从服务器获取计算结果显示在某个html元素中</p>
            <p>输入两个数字,计算两个数字相除的结果</p>
            <br>

            <form class="form-inline">
                数字1:  <input type="text" id="num1" class="form-control" value="1000">
                <br><br>
                数字2:  <input type="text" id="num2" class="form-control" value="20">
                <br><br>
                <button id="btn_cal" type="button" class="btn btn-sm btn-primary">计算两数之商</button>
            </form>

            <br>

            <div style="color: brown; font-size: 18px;">
                计算结果: <span id="resultContainer">这里显示计算结果</span>
            </div>

        </div>
    </body>
</html>
